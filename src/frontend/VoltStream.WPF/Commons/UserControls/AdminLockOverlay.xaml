<UserControl x:Class="VoltStream.WPF.Commons.UserControls.AdminLockOverlay"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:fa="http://schemas.awesome.incremented/wpf/xaml/fontawesome.sharp"
             x:Name="Root">
	<Grid>
		<ContentControl Content="{Binding InnerContent, ElementName=Root}">
			<ContentControl.Style>
				<Style TargetType="ContentControl">
					<Style.Triggers>
						<DataTrigger Binding="{Binding IsLocked, ElementName=Root}" Value="True">
							<Setter Property="Effect">
								<Setter.Value>
									<BlurEffect Radius="8" RenderingBias="Performance"/>
								</Setter.Value>
							</Setter>
							<Setter Property="IsEnabled" Value="False"/>
						</DataTrigger>
					</Style.Triggers>
				</Style>
			</ContentControl.Style>
		</ContentControl>

		<!-- Lock Overlay UI -->
		<Border Background="#77000000" 
                Visibility="{Binding IsLocked, ElementName=Root, Converter={StaticResource BooleanToVisibilityConverter}}"
                Panel.ZIndex="9999">
			<Border Background="#FDFDFD" 
                    VerticalAlignment="Center" 
                    HorizontalAlignment="Center" 
                    Padding="45" 
                    CornerRadius="24" 
                    Width="420"
                    BorderBrush="#DDDDDD"
                    BorderThickness="1">
				<Border.Effect>
					<DropShadowEffect BlurRadius="50" ShadowDepth="0" Opacity="0.4"/>
				</Border.Effect>
				<StackPanel>
					<fa:IconImage Icon="ShieldHalved" Foreground="#0078D4" Width="80" Height="80" Margin="0,0,0,30"/>

					<TextBlock Text="{Binding LockMessage, ElementName=Root}" 
                               TextWrapping="Wrap" 
                               TextAlignment="Center" 
                               FontSize="20" 
                               FontWeight="Bold" 
                               LineHeight="28"
                               Margin="0,0,0,30"
                               Foreground="#1A1A1A"/>

					<TextBox x:Name="AdminUsernameBox" 
                             FontSize="16" 
                             Padding="14"
                             Margin="0,0,0,18"
                             Tag="Admin login"/>

					<PasswordBox x:Name="AdminPasswordBox" 
                                FontSize="16" 
                                Padding="14"
                                Margin="0,0,0,25"
                                KeyDown="AdminPasswordBox_KeyDown"/>

					<Button Content="Kirish ruxsatini olish" 
                            Background="#0078D4" 
                            Foreground="White" 
                            FontSize="18" 
                            FontWeight="Bold" 
                            Padding="25,15" 
                            BorderThickness="0"
                            Cursor="Hand"
                            Click="UnlockButton_Click">
						<Button.Resources>
							<Style TargetType="Border">
								<Setter Property="CornerRadius" Value="12"/>
							</Style>
						</Button.Resources>
					</Button>

					<TextBlock x:Name="ErrorMessage" 
                               Foreground="#C42B1C" 
                               FontSize="14" 
                               Margin="0,20,0,0" 
                               TextAlignment="Center"
                               Visibility="Collapsed"
                               FontWeight="Bold"/>
				</StackPanel>
			</Border>
		</Border>
	</Grid>
</UserControl>