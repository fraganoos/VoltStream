<UserControl x:Class="VoltStream.WPF.Commons.UserControls.AdminLockOverlay"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:fa="http://schemas.awesome.incremented/wpf/xaml/fontawesome.sharp"
             x:Name="Root">
	<Grid>
		<ContentControl Content="{Binding InnerContent, ElementName=Root}"
                        DataContext="{Binding DataContext, ElementName=Root}">
			<ContentControl.Style>
				<Style TargetType="ContentControl">
					<Style.Triggers>
						<DataTrigger Binding="{Binding IsLocked, ElementName=Root}" Value="True">
							<Setter Property="Effect">
								<Setter.Value>
									<BlurEffect Radius="10" RenderingBias="Quality"/>
								</Setter.Value>
							</Setter>
							<Setter Property="Opacity" Value="0.8"/>
							<Setter Property="IsEnabled" Value="False"/>
						</DataTrigger>
					</Style.Triggers>
				</Style>
			</ContentControl.Style>
		</ContentControl>

		<Border Background="#22000000" 
                Visibility="{Binding IsLocked, ElementName=Root, Converter={StaticResource BooleanToVisibilityConverter}}"
                Panel.ZIndex="9999">

			<Border VerticalAlignment="Center" 
                    HorizontalAlignment="Center" 
                    Width="450"
                    Padding="20"
                    CornerRadius="20">

				<Border.BorderBrush>
					<LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
						<GradientStop Color="#88FFFFFF" Offset="0"/>
						<GradientStop Color="#22FFFFFF" Offset="1"/>
					</LinearGradientBrush>
				</Border.BorderBrush>

				<Border.Background>
					<SolidColorBrush Color="White" Opacity="0.75"/>
				</Border.Background>

				<Border.Effect>
					<DropShadowEffect BlurRadius="40" ShadowDepth="0" Opacity="0.15" Color="Black"/>
				</Border.Effect>

				<StackPanel>
					<Grid Width="70" Height="70" Margin="0,0,0,15">
						<Ellipse Fill="#E8F2FB"/>
						<fa:IconImage Icon="ShieldHalved" Foreground="#0A003A" Width="35" Height="35"/>
					</Grid>

					<TextBlock Text="{Binding LockMessage, ElementName=Root}" 
                               TextWrapping="Wrap" 
                               TextAlignment="Center" 
                               FontSize="18" 
                               FontWeight="SemiBold" 
                               Foreground="#1A1A1A"
                               Margin="0,0,0,15"/>

					<TextBlock Text="Ushbu bo'lim faqat ma'murlar uchun" 
                               FontSize="13" 
                               Foreground="#666666" 
                               TextAlignment="Center" 
                               Margin="0,0,0,10"/>

					<Border Margin="50,0,50,15" BorderThickness="1.5" BorderBrush="#EEEEEE" CornerRadius="10" Background="White">
						<Grid>
							<TextBlock Text="Loginini kiriting..." 
                   Margin="15,0" VerticalAlignment="Center" Foreground="#AAA"
                   IsHitTestVisible="False"
                   Visibility="{Binding Text.IsEmpty, ElementName=AdminUsernameBox, Converter={StaticResource BooleanToVisibilityConverter}}"/>
							<TextBox x:Name="AdminUsernameBox" 
                 FontSize="15" Padding="15,12"
                 Background="Transparent" BorderThickness="0"/>
						</Grid>
					</Border>

					<Border Margin="50,0,50,30" BorderThickness="1.5" BorderBrush="#EEEEEE" CornerRadius="10" Background="White">
						<Grid>
							<TextBlock x:Name="PassPlaceholder" Text="Parolni kiriting..." 
                   Margin="15,0" VerticalAlignment="Center" Foreground="#AAA"
                   IsHitTestVisible="False"/>
							<PasswordBox x:Name="AdminPasswordBox" 
                     FontSize="15" Padding="15,12"
                     Background="Transparent" BorderThickness="0"
                     PasswordChanged="AdminPasswordBox_PasswordChanged"
                     KeyDown="AdminPasswordBox_KeyDown"/>
						</Grid>
					</Border>

					<Button Content="Ruxsatni tasdiqlash" 
                            Background="#0A003A" 
                            Foreground="White" 
                            FontSize="16" 
							Width="250"
                            FontWeight="SemiBold" 
                            Height="50"
                            BorderThickness="0"
                            Cursor="Hand"
                            Click="UnlockButton_Click">
						<Button.Resources>
							<Style TargetType="Border">
								<Setter Property="CornerRadius" Value="12"/>
							</Style>
						</Button.Resources>
					</Button>
				</StackPanel>
			</Border>
		</Border>
	</Grid>
</UserControl>